buildscript {
	ext {
		springBootVersion = "1.5.6.RELEASE"
		springCloudNetflixVersion = "1.3.2.RELEASE"
		springDependencyManagementVersion = "1.0.0.RELEASE"
		lombokVersion = "1.16.16"
		springfoxSwaggerVersion = "2.7.0"
	}
	repositories {
		mavenCentral()
	}
	dependencies {
		classpath "org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}"
		classpath("io.spring.gradle:dependency-management-plugin:{springDependencyManagementVersion}")
	}
}

subprojects {
	apply plugin: "java"
	apply plugin: "org.springframework.boot"
	apply plugin: "eclipse"
	apply plugin: "idea"
	apply plugin: "io.spring.dependency-management"

	version = version
	group = "org.lab.insurance"

	compileJava {
			sourceCompatibility = 1.8
			targetCompatibility = 1.8
			options.encoding = "UTF-8"
	}
	repositories {
		mavenCentral()
	}

	dependencyManagement {
		imports {
			mavenBom "org.springframework.cloud:spring-cloud-netflix:${springCloudNetflixVersion}"
		}
	}

	dependencies {
		compile "org.projectlombok:lombok:${lombokVersion}"
		compile "org.apache.commons:commons-lang3:3.6"		
		testCompile "org.springframework.boot:spring-boot-starter-test"
		// remove
		compile group: 'javax.inject', name: 'javax.inject', version: '1'
	}
}

project(":insurance-model") {
	dependencies {
		compile "org.springframework.boot:spring-boot-starter-data-jpa"
		compile "io.springfox:springfox-swagger2:${springfoxSwaggerVersion}"
		// remove
		compile "com.googlecode.lambdaj:lambdaj:2.3.3"
		compile "javax.validation:validation-api:1.1.0.Final"
	}
	bootRepackage {
		enabled = false
	}
}

project(":insurance-core") {
	dependencies {
		compile project(":insurance-model")
		compile "joda-time:joda-time:2.9.9"
		compile "commons-io:commons-io:2.5"
		// remove
		compile group: 'org.quartz-scheduler', name: 'quartz', version: '2.3.0'
		compile group: 'org.liquibase', name: 'liquibase-core', version: '3.5.3'
		compile group: 'com.google.code.gson', name: 'gson', version: '2.8.1'
	}
	bootRepackage {
		enabled = false
	}
}

project(":insurance-services") {
	dependencies {
		compile project(":insurance-core")

		// remove
		compile group: 'org.apache.camel', name: 'camel-guice', version: '2.19.2'
		compile group: 'commons-logging', name: 'commons-logging', version: '1.2'
		testCompile group: 'junit', name: 'junit', version: '4.12'
		compileOnly "javax.servlet:javax.servlet-api:3.0.1"
	}
	bootRepackage {
		enabled = false
	}
}

project(":insurance-engine-model") {
	dependencies {
		compile project(":insurance-model")
	}
	bootRepackage {
		enabled = false
	}
}

project(":insurance-engine") {
	dependencies {
		compile project(":insurance-services")
		compile project(":insurance-engine-model")
		
		// remove
		compile group: 'org.apache.camel', name: 'camel-guice', version: '2.19.2'
	}
	bootRepackage {
		enabled = false
	}
}

project(":insurance-bootstrap") {
	dependencies {
		compile project(":insurance-engine")
		// remove
		compile group: 'net.sf.flatpack', name: 'flatpack', version: '4.0.1'
	}
	bootRepackage {
		enabled = false
	}
}

project(":insurance-web") {
	dependencies {
		compile project(":insurance-engine")
		// remove
		compile group: 'org.jboss.resteasy', name: 'resteasy-jaxrs', version: '3.1.4.Final'
		compile group: 'org.jboss.resteasy', name: 'resteasy-multipart-provider', version: '3.1.4.Final'
		compile group: 'org.jboss.resteasy', name: 'resteasy-guice', version: '3.1.4.Final'
		
	}
	bootRepackage {
		enabled = false
	}
}

project(":insurance-eureka") {
	dependencies {
		compile "org.springframework.cloud:spring-cloud-starter-eureka-server"
		compile "org.springframework.cloud:spring-cloud-config-client"
	}
}

project(":insurance-cloud-config") {
	dependencies {
		compile "org.springframework.cloud:spring-cloud-config-server"
		compile "org.springframework.boot:spring-boot-starter-web"
	}
}


project(":insurance-ms-core") {
	dependencies {
		compile project(":insurance-model")
		compile "org.springframework.boot:spring-boot-starter-web"
		compile "org.springframework.boot:spring-boot-starter-actuator"
		compile "org.springframework.boot:spring-boot-starter-amqp"
		compile "org.hibernate:hibernate-validator"
		compile "io.springfox:springfox-swagger2:${springfoxSwaggerVersion}"
		compile "io.springfox:springfox-swagger-ui:${springfoxSwaggerVersion}"
		//remove
		compile group: 'com.h2database', name: 'h2', version: '1.4.196'
		
	}
	bootRepackage {
		enabled = false
	}
}

project(":insurance-ms-contract-creation") {
	dependencies {
		compile project(":insurance-ms-core")
	}
}

project(":insurance-ms-contract") {
	dependencies {
		compile project(":insurance-ms-core")
	}
}

project(":insurance-ms-legal-entity") {
	dependencies {
		compile project(":insurance-ms-core")
	}
}

project(":insurance-ms-stop-loss") {
	dependencies {
		compile project(":insurance-ms-core")
	}
}

project(":insurance-ms-accounting") {
	dependencies {
		compile project(":insurance-ms-core")
	}
}

project(":insurance-ms-payment") {
	dependencies {
		compile project(":insurance-ms-core")
	}
}

project(":insurance-ms-asset") {
	dependencies {
		compile project(":insurance-ms-core")
	}
}

project(":insurance-ms-market") {
	dependencies {
		compile project(":insurance-ms-core")
	}
}



